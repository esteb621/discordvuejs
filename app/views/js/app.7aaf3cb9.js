(function(){"use strict";var e={7035:function(e,t,s){var a=s(9242),n=s(3396);function r(e,t){const s=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(s)}var o=s(89);const l={},i=(0,o.Z)(l,[["render",r]]);var u=i,c=s(2483);const d=e=>((0,n.dD)("data-v-2ce8f7a6"),e=e(),(0,n.Cn)(),e),m={id:"home",class:"flex flex-col items-end bg-gray-900 h-screen"},p={class:"container text-white self-center flex justify-center items-center h-screen"},g={class:"row justify-center"},f={class:"text-center w-screen"},v=d((()=>(0,n._)("h1",{class:"opacity-0 m-4 font-bold text-5xl animate-slide-in animation-delay-200"}," Bienvenue sur Discord! ",-1))),h=d((()=>(0,n._)("h2",{class:"opacity-0 font-light text-xl mb-5 animate-slide-in animation-delay-500"}," Inscrivez-vous ou connectez-vous pour commencer ",-1))),w={class:"self-center"},x=d((()=>(0,n._)("div",{id:"credits",class:"opacity-0 p-2 mt-auto self-start text-white animate-slide-in animation-delay-1000"},[(0,n.Uk)(" Développé par "),(0,n._)("a",{href:"",class:"underline"},"Esteban Vangi"),(0,n.Uk)(", "),(0,n._)("a",{href:"",class:"underline"},"Pierre Pujos"),(0,n.Uk)(" et "),(0,n._)("a",{href:"",class:"underline"},"Lucas Buonocore")],-1)));function y(e,t){const s=(0,n.up)("RouterLink");return(0,n.wg)(),(0,n.iD)("section",m,[(0,n._)("div",p,[(0,n._)("div",g,[(0,n._)("div",f,[v,h,(0,n._)("div",w,[(0,n.Wm)(s,{to:"/login",class:"opacity-0 bg-blue-500 text-white text-xl font-bold rounded-lg py-3 px-6 m-2 hover:bg-blue-600 duration-200 animate-slide-in animation-delay-700"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Se connecter ")])),_:1}),(0,n.Wm)(s,{to:"/register",class:"opacity-0 bg-gray-500 text-white text-xl font-bold rounded-lg py-3 px-6 hover:bg-gray-600 duration-200 animate-slide-in animation-delay-700"},{default:(0,n.w5)((()=>[(0,n.Uk)(" S'inscrire ")])),_:1})])])])]),x])}const b={},_=(0,o.Z)(b,[["render",y],["__scopeId","data-v-2ce8f7a6"]]);var k=_,U={__name:"HomeView",setup(e){return(e,t)=>((0,n.wg)(),(0,n.j4)(k))}};const q=U;var S=q,C=(s(7658),s(4870)),I=s(7139),j=s(65),H=s(5708),D=s(7629);const W=e=>((0,n.dD)("data-v-3f2ca5c4"),e=e(),(0,n.Cn)(),e),P={class:"flex justify-center items-center text-left bg-cover bg-center"},L={id:"login",class:"shadow-lg shadow-gray-600 p-6 rounded-lg bg-gray-700 max-h-75 overflow-y-auto"},V=W((()=>(0,n._)("h1",{class:"mb-2 text-white text-center text-3xl font-semibold"},"Content de te revoir!",-1))),T=W((()=>(0,n._)("h2",{class:"text-center text-xl font-semibold"},"Renseigne tes identifiants pour te connecter",-1))),M={class:"mt-4 text-start"},N={class:"grid grid-cols-12 mb-3"},B={class:"col-span-12"},z=W((()=>(0,n._)("label",{for:"username",class:"mb-2 text-white font-semibold text-base"},"Nom d'utilisateur *",-1))),R={class:"grid grid-cols-12 mb-3"},Z={class:"col-span-12"},O=W((()=>(0,n._)("label",{for:"password",class:"text-white font-semibold text-base"},"Mot de passe *",-1))),E=["disabled"],$={key:0},F={key:1},A={key:0,class:"text-red-700 font-bold text-bold col-span-12 text-center mt-3"},Y={class:"text-capitalize mt-3"},J={class:"pl-2 text-center"};var K={__name:"LoginForm",setup(e){const t=(0,j.oR)(),s=(0,c.tv)(),a=D.Ry().shape({username:D.Z_().required("Un nom d'utilisateur est requis!"),password:D.Z_().required("Un mot de passe est requis!")}),r=(0,C.iH)(""),o=(0,C.iH)(""),l=(0,C.iH)(""),i=(0,C.iH)(!1),u=(0,C.iH)("#5c6aff"),d=(0,C.iH)("#3aa55c"),m=()=>!(r.value&&o.value);function p(e){i.value=!0,t.dispatch("auth/login",e).then((()=>{i.value=!1,s.push("/main")})).catch((e=>{i.value=!1,l.value=e}))}return(e,t)=>{const s=(0,n.up)("font-awesome-icon"),c=(0,n.up)("RouterLink");return(0,n.wg)(),(0,n.iD)("main",P,[(0,n._)("div",L,[V,T,(0,n._)("div",M,[(0,n.Wm)((0,C.SU)(H.l0),{class:"form-group",onSubmit:p,"validation-schema":(0,C.SU)(a)},{default:(0,n.w5)((()=>[(0,n._)("div",N,[(0,n._)("div",B,[z,(0,n.Wm)((0,C.SU)(H.gN),{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),ref:"usernameInput",type:"username",id:"username",name:"username",required:"",class:"text-white bg-colors-gray-form border-none w-full px-4 py-2 rounded-md border focus:outline-none"},null,8,["modelValue"]),(0,n.Wm)((0,C.SU)(H.Bc),{name:"username",class:"text-red-700 font-bold"})])]),(0,n._)("div",R,[(0,n._)("div",Z,[O,(0,n.Wm)((0,C.SU)(H.gN),{modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=e=>o.value=e),ref:"passwordInput",type:"password",id:"password",name:"password",required:"",class:"text-white bg-colors-gray-form w-full px-4 py-2 rounded-md border-none focus:outline-none"},null,8,["modelValue"]),(0,n.Wm)((0,C.SU)(H.Bc),{name:"password",class:"text-red-700 font-bold"})])]),(0,n._)("button",{class:(0,I.C_)([{"bg-green-500 cursor-wait":i.value},"mt-5 block w-full px-4 py-2 rounded-md font-bold text-white cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed bg-blue-500 hover:bg-blue-600 duration-200"]),disabled:m(),style:(0,I.j5)({backgroundColor:i.value?d.value:u.value}),type:"submit"},[i.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",$,"Connexion")),i.value?((0,n.wg)(),(0,n.iD)("span",F,[(0,n.Wm)(s,{icon:["fas","spinner"],spin:""})])):(0,n.kq)("",!0)],14,E),l.value?((0,n.wg)(),(0,n.iD)("p",A,(0,I.zw)(l.value),1)):(0,n.kq)("",!0)])),_:1},8,["validation-schema"])]),(0,n._)("div",Y,[(0,n._)("p",J,[(0,n.Uk)(" Besoin d'un compte ? "),(0,n.Wm)(c,{to:"/register",class:"text-blue-500"},{default:(0,n.w5)((()=>[(0,n.Uk)("S'inscrire")])),_:1})])])])])}}};const G=(0,o.Z)(K,[["__scopeId","data-v-3f2ca5c4"]]);var X=G,Q={__name:"LoginView",setup(e){return(e,t)=>((0,n.wg)(),(0,n.j4)(X))}};const ee=Q;var te=ee;const se=e=>((0,n.dD)("data-v-ed6a2200"),e=e(),(0,n.Cn)(),e),ae={class:"flex justify-center items-center text-left bg-cover bg-center"},ne={id:"login",class:"max-w-xl shadow-lg shadow-gray-600 p-6 rounded-lg bg-gray-700 max-h-fit overflow-y-auto"},re=se((()=>(0,n._)("h1",{class:"mb-2 text-white text-center text-3xl font-semibold"},"Ravi de faire ta connaissance!",-1))),oe=se((()=>(0,n._)("h2",{class:"text-center text-xl font-semibold"},"Merci de renseigner les informations suivantes pour mieux te connaitre",-1))),le={class:"mt-4 text-start"},ie={class:"grid grid-cols-12 mb-3"},ue={class:"col-span-12"},ce=se((()=>(0,n._)("label",{for:"username",class:"mb-2 text-white font-semibold text-base"},"Nom d'utilisateur *",-1))),de={class:"grid grid-cols-12 mb-3"},me={class:"col-span-12"},pe=se((()=>(0,n._)("label",{for:"email",class:"text-white font-semibold text-base"},"Adresse mail *",-1))),ge={class:"grid grid-cols-12 mb-3"},fe={class:"col-span-12"},ve=se((()=>(0,n._)("label",{for:"password",class:"text-white font-semibold text-base"},"Mot de passe *",-1))),he={class:"mb-3"},we=se((()=>(0,n._)("span",{class:"mb-2 text-white font-semibold"},"Votre mot de passe doit contenir au moins:",-1))),xe={class:"list-none text-white"},ye={class:"grid grid-cols-12 mb-3"},be={class:"col-span-12"},_e=se((()=>(0,n._)("label",{for:"retypePassword",class:"text-white font-semibold text-base"}," Confirmer le mot de passe * ",-1))),ke={class:"mt-4 w-full"},Ue={class:"col-span-12"},qe=se((()=>(0,n._)("label",{for:"profile_picture",class:"text-white font-semibold text-base"},"Photo de profil (optionnel)",-1))),Se=["disabled"],Ce={key:0},Ie={key:1},je={key:0,class:"text-red-700 font-bold col-span-12 text-center mt-3"},He={class:"text-capitalize mt-3"},De={class:"pl-2 text-center"};var We={__name:"RegisterForm",setup(e){const t=(0,j.oR)(),s=(0,c.tv)(),a=D.Ry().shape({username:D.Z_().required("Un nom d'utilisateur est requis!").min(3,"Le pseudo doit faire 3 caractères minimum!").max(20,"Le pseudo doit faire 20 characteres maximum!"),email:D.Z_().required("Un email est requis!").email("Cet email n'est pas valide!").max(50,"Cet email est trop long!"),password:D.Z_().required("Un mot de passe est requis!").min(8,"Le mot de passe doit contenir au moins 8 caractères!").matches(/[$&+.,:;=?@#|'"<>^*ඞ()%!-]/,"Le mot de passe doit contenir au moins un chiffre et un caractère spécial"),confirmPassword:D.Z_().required("Ce champ est obligatoire!").oneOf([D.iH("password"),null],"Les mots de passe doivent être identiques"),picture:D.Z_().nullable()}),r=(0,C.iH)(""),o=(0,C.iH)(""),l=(0,C.iH)(""),i=(0,C.iH)(""),u=(0,C.iH)(null);let d=(0,C.iH)("");const m=(0,C.iH)(!1),p=(0,C.iH)("#5c6aff"),g=(0,C.iH)("#3aa55c"),f=(0,C.iH)(/[$&+.,:;=?@#|'"<>^*ඞ()%!-]/).value,v=()=>!(r.value&&o.value&&l.value&&i.value);function h(){return o.value.length>=8}function w(){const e=/\d/;return e.test(o.value)}function x(){return f.test(o.value)}function y(e){d.value="",m.value=!0,t.dispatch("auth/register",e).then((async e=>{m.value=!1,d.value=e.data,s.push("/main")})).catch((e=>{m.value=!1,d.value=e}))}return(e,t)=>{const s=(0,n.up)("font-awesome-icon"),c=(0,n.up)("RouterLink");return(0,n.wg)(),(0,n.iD)("main",ae,[(0,n._)("div",ne,[re,oe,(0,n._)("div",le,[(0,n.Wm)((0,C.SU)(H.l0),{class:"form-group",onSubmit:y,"validation-schema":(0,C.SU)(a)},{default:(0,n.w5)((()=>[(0,n._)("div",ie,[(0,n._)("div",ue,[ce,(0,n.Wm)((0,C.SU)(H.gN),{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),ref:"usernameInput",type:"username",id:"username",name:"username",required:"",class:"text-white bg-colors-gray-form border-none w-full px-4 py-2 rounded-md border focus:outline-none"},null,8,["modelValue"]),(0,n.Wm)((0,C.SU)(H.Bc),{name:"username",class:"text-red-700 font-bold"})])]),(0,n._)("div",de,[(0,n._)("div",me,[pe,(0,n.Wm)((0,C.SU)(H.gN),{ref:"emailInput",modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=e=>i.value=e),type:"email",id:"email",name:"email",required:"",class:"text-white bg-colors-gray-form w-full px-4 py-2 rounded-md border-none focus:outline-none"},null,8,["modelValue"]),(0,n.Wm)((0,C.SU)(H.Bc),{name:"email",class:"text-red-700 font-bold"})])]),(0,n._)("div",ge,[(0,n._)("div",fe,[ve,(0,n.Wm)((0,C.SU)(H.gN),{modelValue:o.value,"onUpdate:modelValue":t[2]||(t[2]=e=>o.value=e),ref:"passwordInput",type:"password",id:"password",name:"password",required:"",class:"text-white bg-colors-gray-form w-full px-4 py-2 rounded-md border-none focus:outline-none"},null,8,["modelValue"]),(0,n.Wm)((0,C.SU)(H.Bc),{name:"password",class:"text-red-700 font-bold"})])]),(0,n._)("div",he,[we,(0,n._)("ul",xe,[(0,n._)("li",{class:(0,I.C_)({"text-green-600":h()})},[h()?((0,n.wg)(),(0,n.j4)(s,{key:0,icon:["fa","check"],class:"text-green-600"})):(0,n.kq)("",!0),(0,n.Uk)(" 8 caractères ")],2),(0,n._)("li",{class:(0,I.C_)({"text-green-600":w()})},[w()?((0,n.wg)(),(0,n.j4)(s,{key:0,icon:["fa","check"],class:"text-green-600"})):(0,n.kq)("",!0),(0,n.Uk)(" Un chiffre ")],2),(0,n._)("li",{class:(0,I.C_)({"text-green-600":x()})},[x()?((0,n.wg)(),(0,n.j4)(s,{key:0,icon:["fa","check"],class:"text-green-600"})):(0,n.kq)("",!0),(0,n.Uk)(" Un caractère spécial ")],2)])]),(0,n._)("div",ye,[(0,n._)("div",be,[_e,(0,n.Wm)((0,C.SU)(H.gN),{modelValue:l.value,"onUpdate:modelValue":t[3]||(t[3]=e=>l.value=e),type:"password",id:"retypePassword",name:"confirmPassword",required:"true",class:"bg-colors-gray-form text-white w-full px-4 py-2 rounded-md border-none focus:border-blue-500 focus:outline-none"},null,8,["modelValue"]),(0,n.Wm)((0,C.SU)(H.Bc),{name:"confirmPassword",class:"text-red-700 font-bold"})])]),(0,n._)("div",ke,[(0,n._)("div",Ue,[qe,(0,n.Wm)((0,C.SU)(H.gN),{modelValue:u.value,"onUpdate:modelValue":t[4]||(t[4]=e=>u.value=e),name:"picture",type:"file",accept:".jpg,.jpeg,.gif,.png,.heic",id:"profile_picture",class:"w-full"},null,8,["modelValue"])])]),(0,n._)("button",{disabled:v(),class:(0,I.C_)([{"bg-green-500 cursor-wait":m.value},"mt-5 block w-full px-4 py-2 rounded-md font-bold text-white cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed bg-blue-500 hover:bg-blue-600 duration-200"]),style:(0,I.j5)({backgroundColor:m.value?g.value:p.value}),type:"submit"},[m.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",Ce,"Inscription")),m.value?((0,n.wg)(),(0,n.iD)("span",Ie,[(0,n.Wm)(s,{icon:["fas","spinner"],spin:""})])):(0,n.kq)("",!0)],14,Se)])),_:1},8,["validation-schema"]),(0,C.SU)(d)?((0,n.wg)(),(0,n.iD)("p",je,(0,I.zw)((0,C.SU)(d)),1)):(0,n.kq)("",!0)]),(0,n._)("div",He,[(0,n._)("p",De,[(0,n.Uk)(" Déjà inscrit ? "),(0,n.Wm)(c,{class:"text-blue-500",to:"/login"},{default:(0,n.w5)((()=>[(0,n.Uk)("Connexion")])),_:1})])])])])}}};const Pe=(0,o.Z)(We,[["__scopeId","data-v-ed6a2200"]]);var Le=Pe,Ve={__name:"SignUpView",setup(e){return(e,t)=>((0,n.wg)(),(0,n.j4)(Le))}};const Te=Ve;var Me=Te;const Ne={class:"text-gray-300 hover:text-gray-200 grow"},Be={key:0,class:"mr-auto"};var ze={__name:"ChannelComponent",props:{name:String,id:Number,admin:Boolean},emits:["delete-channel"],setup(e,{emit:t}){const s=e;function a(){t("delete-channel",s.id)}return(t,r)=>{const o=(0,n.up)("font-awesome-icon"),l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.j4)(l,{to:"/main/server/channel/"+e.id,class:(0,I.C_)([{active:t.$route.path==="/main/server/channel/"+e.id},"rounded-md w-90 py-2 px-3 mb-3 mx-2 font-bold focus:text-gray-300 hover:cursor-pointer hover:bg-gray-600 flex flex-row items-center space-x-2"])},{default:(0,n.w5)((()=>[(0,n.Wm)(o,{icon:["fa","hashtag"],size:"lg",class:"text-gray-400"}),(0,n._)("p",Ne,(0,I.zw)(s.name),1),e.admin?((0,n.wg)(),(0,n.iD)("div",Be,[(0,n.Wm)(o,{onClick:a,icon:["fa","trash"],size:"sm",class:"text-gray-400 cursor-pointer hover:text-gray-300"})])):(0,n.kq)("",!0)])),_:1},8,["to","class"])}}};const Re=(0,o.Z)(ze,[["__scopeId","data-v-57b50e4a"]]);var Ze=Re;const Oe=(0,n._)("a",{class:"animate-pulse rounded-md w-58 h-10 py-2 px-3 mb-3 mx-2 bg-gray-600"},null,-1),Ee=(0,n._)("a",{class:"animate-pulse rounded-md w-24 h-10 py-2 px-3 mb-3 mx-2 bg-gray-600"},null,-1),$e=(0,n._)("a",{class:"animate-pulse rounded-md w-40 h-10 py-2 px-3 mb-3 mx-2 bg-gray-600"},null,-1);function Fe(e,t){return(0,n.wg)(),(0,n.iD)(n.HY,null,[Oe,Ee,$e],64)}const Ae={},Ye=(0,o.Z)(Ae,[["render",Fe]]);var Je=Ye,Ke=s(6265),Ge=s.n(Ke);class Xe{getLocalRefreshToken(){const e=ht.getters["auth/getUser"];return e?.refreshToken}getLocalAccessToken(){const e=ht.getters["auth/getUser"];return e?.accessToken}updateLocalAccessToken(e){let t=ht.getters["auth/getUser"];t.accessToken=e,localStorage.setItem("user",JSON.stringify(t))}getUser(){return ht.getters["auth/getUser"]}setUser(e){localStorage.setItem("user",JSON.stringify(e))}removeUser(){localStorage.removeItem("user")}}var Qe=new Xe;class et{async login(e){return xt.post("../auth/login",{username:e.username,password:e.password}).then((e=>(e.data.accessToken&&Qe.setUser(e.data),e.data))).catch((e=>e.response.data.message))}async register(e){const t=new FormData;return t.append("username",e.username),t.append("email",e.email),t.append("password",e.password),t.append("profilePicture",e.profilePicture),xt.post("../auth/register",t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>(e.data.accessToken&&Qe.setUser(e.data),e.data))).catch((e=>e.response.data.message))}logout(){Qe.removeUser()}}var tt=new et;class st{uploadProfilePic(e,t){const s=new FormData;return s.append("picture",t),s.append("id",e),xt.post("../picture/upload",s,{headers:{"Content-Type":"multipart/form-data"}}).then((async e=>e.data)).catch((e=>e.response.data.message))}getProfilePicture(e){return xt.get(`../picture/${e}`).then((e=>e.data.picture)).catch((e=>e.response.data.message))}}var at=new st;const nt=JSON.parse(localStorage.getItem("user")),rt=nt?{status:{loggedIn:!0},user:nt}:{status:{loggedIn:!1},user:null},ot={namespaced:!0,state:rt,actions:{login({commit:e},t){return tt.login(t).then((t=>t.accessToken?(e("loginSuccess",t),Promise.resolve(t)):(e("loginFailure"),Promise.reject(t))))},logout({commit:e}){tt.logout(),e("logout")},register({commit:e},t){return tt.register(t).then((s=>(t.picture&&at.uploadProfilePic(s.id,t.picture),s.accessToken?(e("registerSuccess",s),Promise.resolve(s)):(e("registerFailure"),Promise.reject(s)))))},refreshToken({commit:e},t){e("refreshToken",t)}},mutations:{loginSuccess(e,t){e.status.loggedIn=!0,e.user=t},loginFailure(e){e.status.loggedIn=!1,e.user=null},logout(e){e.status.loggedIn=!1,e.user=null},registerSuccess(e,t){e.status.loggedIn=!0,e.user=t},registerFailure(e){e.status.loggedIn=!1},setToken(e,t){e.user.accessToken=t},refreshToken(e,t){e.status.loggedIn=!0,e.user={...e.user,accessToken:t}}},getters:{getUser:e=>e.user||""}},lt={on(e,t){document.addEventListener(e,(e=>t(e.detail)))},dispatch(e,t){document.dispatchEvent(new CustomEvent(e,{detail:t}))},remove(e,t){document.removeEventListener(e,t)}};var it=lt;class ut{async sendMessage(e,t,s){await xt.post("/createMessage",{user_id:e,channel_id:t,text:s}).then((e=>e)).catch((e=>{console.warn(e)}))}async getMessages(e){const t=await xt.get("/messages/channel/"+e),s=t.data.map((e=>({id:e.id,channel:e.channel_id,user:e.user_id,text:e.text})));return s}}var ct=new ut;const dt={namespaced:!0,state:(0,C.qj)({messages:{},channelNames:{}}),actions:{async fetchMessages({commit:e},t){await ct.getMessages(t).then((async s=>{const a=s,n=await bt.getChannelName(t);e("setMessages",{channelId:t,messages:a}),e("setChannelName",{channelId:t,name:n})})).catch((e=>{e.response&&403===e.response.status&&it.dispatch("logout")}))}},mutations:{setMessages(e,{channelId:t,messages:s}){e.messages[t]=s},setChannelName(e,{channelId:t,name:s}){e.channelNames[t]=s}},getters:{getMessagesByChannelId:e=>t=>e.messages[t],getChannelNameById:e=>t=>e.channelNames[t]}};class mt{async getUserById(e){const t=await xt.get("/user/"+e),s=t.data;return s}async getUsers(){const e=await xt.get("/users"),t=e.data.map((e=>({id:e.id,username:e.username,picture:e.picture})));return t}async updateProfile(e,t){try{const s=await xt.put(`/update/users/${e}`,{username:t.username,password:t.password,email:t.email});return s.data.message}catch(s){throw s.response.data.message}}}var pt=new mt;const gt={namespaced:!0,state:(0,C.qj)({users:[],pictures:[]}),actions:{async fetchUser({commit:e},t){const s=await pt.getUserById(t);e("setUsername",{userId:t,username:s.username})},async fetchPicture({commit:e},t){const s=await at.getProfilePicture(t);e("setPicture",{userId:t,picture:s})}},mutations:{setUsername(e,{userId:t,username:s}){e.users[t]=s},setPicture(e,{userId:t,picture:s}){e.pictures[t]=s}},getters:{getUsername:e=>t=>e.users[t],getPicture:e=>t=>e.pictures[t]}},ft={namespaced:!0,state:(0,C.qj)({channels:[]}),actions:{async fetchChannels({commit:e}){await bt.getChannels().then((async t=>{const s=t;e("setChannels",{channels:s})})).catch((e=>{e.response&&403===e.response.status&&it.dispatch("logout")}))}},mutations:{setChannels(e,{channels:t}){e.channels=t}},getters:{getChannels:e=>e.channels}},vt=(0,j.MT)({modules:{auth:ot,message:dt,channel:ft,user:gt}});var ht=vt;const wt=Ge().create({baseURL:"/api/discord"});wt.interceptors.request.use((e=>(ht.getters["auth/getUser"]?(e.headers["userId"]=ht.getters["auth/getUser"].id,e.headers["x-access-token"]=ht.state.auth.user.accessToken):Ha.push("/login"),e)),(e=>Promise.reject(e))),wt.interceptors.response.use((e=>e),(async e=>{const t=e.config;if("../auth/signin"!==t.url&&e.response&&401===e.response.status&&!t._retry){t._retry=!0;try{const e=await wt.post("../auth/refreshtoken",{refreshToken:Qe.getLocalRefreshToken()}),{accessToken:s}=e.data;return ht.dispatch("auth/refreshToken",s),Qe.updateLocalAccessToken(s),console.log("Access Token mis a jour!"),wt(t)}catch(s){return Promise.reject(s)}}return Promise.reject(e)}));var xt=wt;class yt{async getChannels(){const e=await xt.get("/channels/1"),t=e.data.map((e=>({id:e.id,nom:e.nom})));return t}async getChannelName(e){const t=await xt.get("/channel/"+e),s=t.data.nom;return s}async addChannel(e){try{const t=await xt.post("/createchannel",{nom:e,typologie:1});return t.data}catch(t){throw t.response.data.message}}async delete(e){try{const t=await xt["delete"](`/delete/channels/${e}`);return t.data}catch(t){throw t.response.data.message}}}var bt=new yt;const _t={class:"w-100 flex-grow bg-gray-800"},kt={class:"mt-4 p-2 pl-3 text-left text-xs cursor-default text-gray-500 hover:text-gray-300 font-bold uppercase"},Ut={id:"channels-list",class:"text-left flex flex-col overflow-y-auto"},qt={key:0};var St={__name:"ChannelsList",emits:["info-message"],setup(e,{emit:t}){const s=(0,C.iH)(null),a=(0,C.iH)("Salons textuels"),r=(0,C.iH)(!1),o=(0,C.iH)(""),l=(0,C.iH)(!1),i=(0,c.tv)(),u=(0,j.oR)();(0,n.m0)((async()=>{const e=i.currentRoute.value;e.path.includes("server")&&(a.value="Salons textuels",0===Object.keys(u.getters["channel/getChannels"]).length&&u.dispatch("channel/fetchChannels"),s.value=u.getters["channel/getChannels"],u.getters["auth/getUser"]&&await pt.getUserById(u.getters["auth/getUser"].id).then((e=>{2==e.role_id&&(l.value=!0)})).catch((e=>{console.warn(e.response.data.message)}))),1==e.path.includes("personal")&&(a.value="Messages privés",l.value=!1,s.value={})}));const d=async()=>{const e=document.createElement("input");e.type="text",e.required="true",e.addEventListener("keydown",(async e=>{if("Enter"!==e.key||""==e.target.value||s.value.includes(e.target.value))"Escape"===e.key&&e.target.remove();else{const a=e.target.value;await bt.addChannel(a).then((n=>{s.value.push(n),e.target.remove(),o.value="",t("info-message",`Le channel ${a} a bien été crée!`)})).catch((e=>{t("info-message",e)}))}})),e.placeholder="Nom du salon",e.className="w-90 py-2 px-3 mb-3 mx-2 left-2 bg-gray-600 rounded-md outline-none text-gray-200",document.getElementById("channels-list").appendChild(e),e.focus()};async function m(e){const a=s.value.findIndex((t=>t.id===e));-1!==a&&await bt["delete"](e).then((()=>{const n=s.value[a].nom;s.value=s.value.filter((t=>t.id!==e)),t("info-message",`Le channel ${n} a bien été supprimé!`)})).catch((e=>{t("info-message",e)}))}return(e,t)=>{const o=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("div",_t,[(0,n._)("p",kt,[(0,n.Uk)((0,I.zw)(a.value)+" ",1),l.value?((0,n.wg)(),(0,n.iD)("span",{key:0,onClick:t[0]||(t[0]=e=>d()),class:"text-gray-100 opacity-50 cursor-pointer hover:opacity-100 p-1 transition-all duration-200 ease-linear",id:"plus"},[(0,n.Wm)(o,{icon:["fa","plus"],size:"lg"})])):(0,n.kq)("",!0)]),(0,n._)("div",Ut,[r.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",qt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.value,((e,t)=>((0,n.wg)(),(0,n.j4)(Ze,{admin:l.value,id:e.id,key:t,name:e.nom,onDeleteChannel:m},null,8,["admin","id","name"])))),128))])),r.value?((0,n.wg)(),(0,n.j4)(Je,{key:1})):(0,n.kq)("",!0)])])}}};const Ct=St;var It=Ct;const jt={class:"relative p-2 mb-2"},Ht=["onSubmit"];var Dt={__name:"TextBarComponent",emits:["send-message"],setup(e,{emit:t}){const s=(0,j.oR)(),r=(0,c.tv)(),o=(0,C.iH)("");function l(){if(s.getters["auth/getUser"].id){const e=s.getters["auth/getUser"].id,a=r.currentRoute.value,n=a.params.id||1;t("send-message",e,n,o.value),o.value=""}}return(e,t)=>{const s=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("div",jt,[(0,n._)("form",{onSubmit:(0,a.iM)(l,["prevent"])},[(0,n.wy)((0,n._)("input",{id:"textbar",type:"text",required:"",autocomplete:"off",class:"shadow-none rounded-md w-full p-3 pr-10 focus:outline-none bg-gray-800 text-gray-400 placeholder:text-gray-400 placeholder:opacity-50 resize-y h-12 min-h-12 max-h-40",placeholder:"Ecrivez votre message...","onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),"aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,512),[[a.nr,o.value]]),(0,n._)("button",{onClick:l,class:"absolute mt-3 right-0 mr-5 text-rounded-md text-gray-400 hover:text-gray-500 duration-200",type:"button"},[(0,n.Wm)(s,{icon:["fas","paper-plane"]})])],40,Ht)])}}};const Wt=Dt;var Pt=Wt;const Lt={key:0,class:"w-10 h-10 rounded-full bg-gray-600 animate-pulse",alt:"Photo de profil",id:"profile-picture"},Vt=["src"];var Tt={__name:"UserPicture",props:{id:{type:Number},link:{type:String}},setup(e){const t=e,s=(0,j.oR)();let a=(0,C.iH)(t.link),r=(0,C.iH)(t.id).value,o=(0,C.iH)(!1);return(0,n.bv)((async()=>{o.value=!0,s.getters["user/getPicture"](r)||await s.dispatch("user/fetchPicture",r),a.value=s.getters["user/getPicture"](r),o.value=!1})),(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,C.SU)(o)?((0,n.wg)(),(0,n.iD)("div",Lt)):(0,n.kq)("",!0),(0,C.SU)(o)?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("img",{key:1,class:"w-10 h-10 rounded-full",src:(0,C.SU)(a),alt:"Photo de profil",id:"profile-picture"},null,8,Vt))],64))}};const Mt=Tt;var Nt=Mt;const Bt={id:"message",class:"flex flex-row mb-3"},zt={class:"flex-shrink-0 p-2 ml-3"},Rt={class:"p-2 flex flex-col flex-wrap text-left"},Zt={key:0,class:"w-16 h-6 rounded-md bg-gray-600 animate-pulse"},Ot={key:1};var Et={__name:"MessageComponent",props:{userId:{type:Number,required:!0},message:{type:String,required:!0}},setup(e){const t=e,s=(0,j.oR)(),a=(0,C.iH)(t.userId).value,r=(0,C.iH)(t.message),o=(0,C.iH)("");return(0,n.bv)((async()=>{s.getters["user/getUsername"](a)||await s.dispatch("user/fetchUser",a),o.value=s.getters["user/getUsername"](a)})),(e,t)=>((0,n.wg)(),(0,n.iD)("div",Bt,[(0,n._)("div",zt,[(0,n.Wm)(Nt,{id:(0,C.SU)(a)},null,8,["id"])]),(0,n._)("div",Rt,[o.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",Zt)),o.value?((0,n.wg)(),(0,n.iD)("h4",Ot,(0,I.zw)(o.value),1)):(0,n.kq)("",!0),(0,n._)("p",null,(0,I.zw)(r.value),1)])]))}};const $t=(0,o.Z)(Et,[["__scopeId","data-v-760d3ee4"]]);var Ft=$t;const At={id:"message",class:"flex flex-row mb-3 animate-pulse"},Yt=(0,n.uE)('<div class="flex-shrink-0 p-2"><div class="rounded-full w-12 h-12 bg-gray-600"></div></div><div class="flex flex-col flex-wrap text-left m-2 space-y-2"><div class="w-16 h-6 rounded-md bg-gray-600"></div><div class="w-80 h-8 rounded-md bg-gray-600"></div></div>',2),Jt=[Yt];function Kt(e,t){return(0,n.wg)(),(0,n.iD)("div",At,Jt)}const Gt={},Xt=(0,o.Z)(Gt,[["render",Kt]]);var Qt=Xt;const es={class:"flex-grow flex flex-col items-stretch",id:"messages-field"},ts={class:"mb-auto text-left text-lg shadow-md bg-gray-700 font-bold p-3"},ss={key:0,class:"text-gray-300"},as={key:1,class:"animate-pulse bg-gray-600 rounded-md w-20 h-6"},ns={key:0,id:"message-container",class:"flex flex-col w-100 snap-y"},rs={key:0,class:"flex flex-col p-2 ml-3 space-y-2 text-left"},os={class:"text-gray-100 text-3xl font-bold w-fit"},ls={class:"text-gray-300"};var is={__name:"MessagesList",setup(e){const t=(0,C.iH)("Veuillez sélectionner un channel"),s=(0,c.tv)(),a=(0,C.iH)(!1),r=(0,C.iH)([]),o=(0,j.oR)();let l=(0,C.iH)(null).value;function i(e,t,s){r.value.push({user:e,channel:t,text:s}),ct.sendMessage(e,t,s),(0,n.Y3)((()=>{u()}))}function u(){const e=document.querySelector("#message-container");e.scrollTo(0,e.scrollHeight)}return(0,n.m0)((async()=>{const e=s.currentRoute.value,n=e.params.id;e.path.includes("server")&&n?(l=n,o.getters["message/getMessagesByChannelId"](l)||(a.value=!0,await o.dispatch("message/fetchMessages",l)),r.value=o.getters["message/getMessagesByChannelId"](l),t.value=o.getters["message/getChannelNameById"](l)):e.path.includes("personal")||Ha.push("/main/server"),a.value=!1})),(e,o)=>{const l=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("div",es,[(0,n._)("div",ts,[a.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("h2",ss,[(0,n.Wm)(l,{icon:["fa","hashtag"],class:"text-gray-500"}),(0,n.Uk)(" "+(0,I.zw)(t.value),1)])),a.value?((0,n.wg)(),(0,n.iD)("div",as)):(0,n.kq)("",!0)]),(0,C.SU)(s).currentRoute.value.params.id?((0,n.wg)(),(0,n.iD)("div",ns,[a.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",rs,[(0,n.Wm)(l,{icon:["fa","hashtag"],class:"p-4 rounded-full text-3xl w-10 h-10 bg-gray-600 text-gray-300"}),(0,n._)("h2",os,"Bienvenue dans #"+(0,I.zw)(t.value)+"!",1),(0,n._)("h3",ls,"C'est le début du salon #"+(0,I.zw)(t.value)+".",1)])),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.value,(e=>((0,n.wg)(),(0,n.j4)(Ft,{key:e.id,userId:e.user,message:e.text},null,8,["userId","message"])))),128)),a.value?((0,n.wg)(),(0,n.j4)(Qt,{key:1})):(0,n.kq)("",!0)])):(0,n.kq)("",!0),(0,n.Wm)(Pt,{onSendMessage:i})])}}};const us=is;var cs=us;const ds={class:"p-2 rounded-sm text-md font-bold text-yellow-400"};var ms={__name:"UserComponent",props:{userId:{type:Number,required:!0},username:{type:String,required:!0},link:{type:String,required:!0}},setup(e){const t=e,s=(0,C.iH)(t.username).value,a=(0,C.iH)(t.userId).value,r=(0,C.iH)(t.link).value;return(e,t)=>{const o=(0,n.up)("router-link");return(0,n.wg)(),(0,n.j4)(o,{to:"/main/personal/user/"+(0,C.SU)(a),class:"p-2 rounded-md flex items-center cursor-pointer hover:bg-gray-700"},{default:(0,n.w5)((()=>[(0,n.Wm)(Nt,{id:(0,C.SU)(a),link:(0,C.SU)(r)},null,8,["id","link"]),(0,n._)("h4",ds,(0,I.zw)((0,C.SU)(s)),1)])),_:1},8,["to"])}}};const ps=ms;var gs=ps;const fs={class:"flex flex-col"},vs=(0,n.uE)('<div class="flex flex-row rounded-md animate-pulse"><div class="flex-shrink-0 p-2"><div class="rounded-full w-10 h-10 bg-gray-600"></div></div><span class="p-2 w-16 h-6 self-center rounded-md bg-gray-600"></span></div><div class="flex flex-row rounded-md animate-pulse"><div class="flex-shrink-0 p-2"><div class="rounded-full w-10 h-10 bg-gray-600"></div></div><span class="p-2 w-28 h-6 self-center rounded-md bg-gray-600"></span></div><div class="flex flex-row rounded-md animate-pulse"><div class="flex-shrink-0 p-2"><div class="rounded-full w-10 h-10 bg-gray-600"></div></div><span class="p-2 w-10 h-6 self-center rounded-md bg-gray-600"></span></div>',3),hs=[vs];function ws(e,t){return(0,n.wg)(),(0,n.iD)("div",fs,hs)}const xs={},ys=(0,o.Z)(xs,[["render",ws]]);var bs=ys;const _s={id:"users",class:"w-fit"},ks=(0,n._)("h2",{class:"p-2"},"Utilisateurs",-1),Us={class:"p-2 flex flex-col mb-3",id:"users-list"},qs={key:1};var Ss={__name:"UsersList",setup(e){const t=(0,C.iH)([]),s=(0,C.iH)(!1);return(0,n.bv)((async()=>{s.value=!0,await pt.getUsers().then((e=>{t.value=e,t.value.sort((function(e,t){const s=e.username.toUpperCase(),a=t.username.toUpperCase();let n=0;return s>a?n=1:s<a&&(n=-1),n}))})).catch((e=>{e.response&&403===e.response.status&&it.dispatch("logout")})),s.value=!1})),(e,a)=>((0,n.wg)(),(0,n.iD)("div",_s,[ks,(0,n._)("div",Us,[s.value?((0,n.wg)(),(0,n.j4)(bs,{key:0})):(0,n.kq)("",!0),s.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",qs,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.value.sort(),(e=>((0,n.wg)(),(0,n.j4)(gs,{username:e.username,key:e.id,userId:e.id,link:e.picture},null,8,["username","userId","link"])))),128))]))])]))}};const Cs=Ss;var Is=Cs;const js={id:"alert-1",class:"animate-slide-in-top fixed self-center w-fit flex p-4 mb-4 rounded-lg bg-gray-800 text-blue-400",role:"alert"},Hs=(0,n._)("svg",{"aria-hidden":"true",class:"flex-shrink-0 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1),Ds=(0,n._)("span",{class:"sr-only"},"Info",-1),Ws={class:"ml-3 text-sm font-medium"};var Ps={__name:"AlertComponent",props:{info:{type:String,required:!0}},setup(e){const t=e;return(e,s)=>((0,n.wg)(),(0,n.iD)("div",js,[Hs,Ds,(0,n._)("div",Ws,(0,I.zw)(t.info),1)]))}};const Ls=Ps;var Vs=Ls;const Ts={class:"absolute w-auto p-2 m-2 min-w-max rounded-md shadow-md text-gray-100 bg-gray-900 text-sm font-bold transition-all duration-100 scale-0 group-hover:scale-100"};var Ms={__name:"ToolTip",props:{title:{type:String,required:!0}},setup(e){const t=e;return(e,s)=>((0,n.wg)(),(0,n.iD)("span",Ts,(0,I.zw)(t.title),1))}};const Ns=Ms;var Bs=Ns;const zs={id:"profile",class:"p-2"},Rs={class:"flex flex-row items-center"},Zs={class:"px-2 font-bold"};var Os={__name:"ProfileBanner",setup(e){const t=(0,j.oR)(),s=(0,C.iH)(""),a=(0,C.iH)(t.getters["auth/getUser"].id),r=async()=>{t.dispatch("auth/logout"),Ha.push("/login")},o=async()=>{const e=t.getters["auth/getUser"];e&&e.id&&(a.value=e.id,await pt.getUserById(e.id).then((e=>{s.value=e.username})).catch((e=>{s.value="undefined",console.warn(e)})))};return(0,n.bv)((async()=>{await o()})),(e,t)=>{const o=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("div",zs,[(0,n._)("div",Rs,[(0,n._)("a",{onClick:t[0]||(t[0]=t=>e.$emit("show-modal")),class:"flex flex-row justify-center items-start p-2 w-44 group cursor-pointer"},[(0,n.Wm)((0,C.SU)(Nt),{id:a.value},null,8,["id"]),(0,n._)("p",Zs,(0,I.zw)(s.value),1),(0,n.Wm)(Bs,{class:"origin-bottom bottom-14",title:"Modifier le profil"})]),(0,n._)("a",{onClick:t[1]||(t[1]=e=>r()),class:"p-2 ms-auto group cursor-pointer"},[(0,n.Wm)(Bs,{title:"Déconnexion",class:"origin-bottom bottom-14 left-60"}),(0,n.Wm)(o,{icon:["fas","sign-out-alt"]})])])])}}};const Es=(0,o.Z)(Os,[["__scopeId","data-v-246a2b01"]]);var $s=Es;const Fs={class:"fixed z-10 inset-0 overflow-y-auto"},As={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ys=(0,n._)("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[(0,n._)("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1),Js={class:"inline-block align-bottom bg-gray-700 text-gray-200 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Ks={class:"px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Gs={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},Xs=(0,n._)("h2",{class:"text-xl text-center leading-6 font-medium text-gray-200"}," Modifier votre profil ",-1),Qs={class:"hover:opacity-50 w-fit h-fit self-center mr-10"},ea=["src"],ta={class:"flex flex-col justify-end w-64 space-y-4"},sa=(0,n._)("label",{for:"username",class:"block mb-2 text-sm font-medium text-gray-200 dark:text-white"},"Pseudo",-1),aa=(0,n._)("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-200 dark:text-white"},"Ton email",-1),na=(0,n._)("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-200 dark:text-white"},"Ton mot de passe",-1),ra={class:"sm:px-6 flex flex-row justify-end"},oa={type:"submit",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-purple-500 text-base font-medium text-white hover:bg-purple-600 duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm"},la={key:0},ia={key:1},ua={key:0,class:"text-red-700 font-bold text-bold col-span-12 text-center mt-3"};var ca={__name:"ProfileSettings",emits:["close","info-message"],setup(e,{emit:t}){const s=(0,j.oR)();function a(){t("close")}const r=(0,C.iH)(s.getters["auth/getUser"].id).value,o=(0,C.iH)(""),l=(0,C.iH)(!1),i=(0,C.iH)(""),u=(0,C.iH)(""),c=(0,C.iH)(""),d=(0,C.iH)(""),m=D.Ry().shape({username:D.Z_().required("Un nom d'utilisateur est requis!").min(3,"Le pseudo doit faire 3 caractères minimum!").max(20,"Le pseudo doit faire 20 characteres maximum!"),email:D.Z_().required("Un email est requis!").email("Cet email n'est pas valide!").max(50,"Cet email est trop long!"),password:D.Z_().required("Votre mot de passe est requis pour confirmer les changements!")});async function p(e){l.value=!0;try{await pt.updateProfile(r,e).then((e=>{t("info-message",e),a()})).catch((e=>{e.response&&403===e.response.status&&it.dispatch("logout")}))}catch(s){o.value=s}l.value=!1}async function g(){const e=event.target.files[0];e&&this.uploadPicture(e)}return(0,n.bv)((async()=>{i.value=await at.getProfilePicture(r),await pt.getUserById(r).then((e=>{c.value=e.username,u.value=e.email})).catch((e=>{e.response&&403===e.response.status&&it.dispatch("logout")}))})),(e,t)=>{const s=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("div",Fs,[(0,n._)("div",As,[Ys,(0,n._)("div",Js,[(0,n._)("div",Ks,[(0,n._)("div",Gs,[Xs,(0,n.Wm)((0,C.SU)(H.l0),{class:"space-y-6 flex flex-row",onSubmit:p,"validation-schema":(0,C.SU)(m)},{default:(0,n.w5)((()=>[(0,n._)("div",Qs,[i.value?((0,n.wg)(),(0,n.iD)("img",{key:0,src:i.value,alt:"",class:"w-24 h-24 rounded-full fixed self-center"},null,8,ea)):(0,n.kq)("",!0),(0,n._)("input",{type:"file",ref:"fileInput",class:"opacity-0 w-24 h-24 cursor-pointer",onChange:g},null,544)]),(0,n._)("div",ta,[(0,n._)("div",null,[sa,(0,n.Wm)((0,C.SU)(H.gN),{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),type:"text",name:"username",class:"bg-colors-gray-form text-white w-full px-4 py-2 rounded-md border-none focus:border-blue-500 focus:outline-none",required:""},null,8,["modelValue"]),(0,n.Wm)((0,C.SU)(H.Bc),{name:"username",class:"text-red-700 font-bold"})]),(0,n._)("div",null,[aa,(0,n.Wm)((0,C.SU)(H.gN),{modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),type:"email",name:"email",class:"bg-colors-gray-form text-white w-full px-4 py-2 rounded-md border-none focus:border-blue-500 focus:outline-none",required:""},null,8,["modelValue"]),(0,n.Wm)((0,C.SU)(H.Bc),{name:"email",class:"text-red-700 font-bold"})]),(0,n._)("div",null,[na,(0,n.Wm)((0,C.SU)(H.gN),{modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),type:"password",name:"password",id:"password",placeholder:"••••••••",class:"bg-colors-gray-form text-white w-full px-4 py-2 rounded-md border-none focus:border-blue-500 focus:outline-none",required:""},null,8,["modelValue"]),(0,n.Wm)((0,C.SU)(H.Bc),{name:"password",class:"text-red-700 font-bold"})]),(0,n._)("div",ra,[(0,n._)("button",{type:"button",onClick:t[3]||(t[3]=e=>a()),class:"mt-3 w-full inline-flex justify-center rounded-md shadow-sm px-4 py-2 bg-gray-500 text-base font-medium text-gray-300 hover:bg-gray-600 duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Annuler "),(0,n._)("button",oa,[l.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",la,"Appliquer")),l.value?((0,n.wg)(),(0,n.iD)("span",ia,[(0,n.Wm)(s,{icon:["fas","spinner"],spin:""})])):(0,n.kq)("",!0)])])])])),_:1},8,["validation-schema"]),o.value?((0,n.wg)(),(0,n.iD)("p",ua,(0,I.zw)(o.value),1)):(0,n.kq)("",!0)])])])])])}}};const da=ca;var ma=da,pa={__name:"SideBarIcon",props:{name:{type:String,required:!0},icon:{type:Array,required:!0},id:{type:String,required:!0}},setup(e){const t=e;return(e,s)=>{const a=(0,n.up)("font-awesome-icon"),r=(0,n.up)("router-link");return(0,n.wg)(),(0,n.j4)(r,{to:"/main/"+t.id,class:(0,I.C_)([{selected:e.$route.path.includes(t.id)},"relative flex items-center justify-center h-12 w-12 mt-2 mb-2 mx-auto shadow-lg bg-gray-800 text-blue-600 hover:bg-blue-600 hover:text-gray-200 active:top-0.5 rounded-3xl hover:rounded-xl transition-all duration-200 ease-linear cursor-pointer group"])},{default:(0,n.w5)((()=>[(0,n.Wm)(Bs,{title:t.name,class:"origin-left left-14"},null,8,["title"]),(0,n.Wm)(a,{icon:t.icon,size:"xl"},null,8,["icon"])])),_:1},8,["to","class"])}}};const ga=(0,o.Z)(pa,[["__scopeId","data-v-771336aa"]]);var fa=ga;const va={class:"top-0 left-0 h-screen w-16 flex flex-col bg-primary text-secondary shadow-lg"};var ha={__name:"SideBar",setup(e){return(e,t)=>((0,n.wg)(),(0,n.iD)("div",va,[(0,n.Wm)(fa,{icon:["fab","discord"],name:"Messages privés",id:"personal"}),(0,n.Wm)(fa,{icon:["fas","users"],name:"Serveur principal",id:"server"})]))}};const wa=ha;var xa=wa;const ya={class:"flex flex-row h-screen",id:"discord"},ba={class:"flex flex-row max-[768px]:hidden"},_a={id:"channel",class:"flex flex-col"},ka={class:"flex flex-col w-full"},Ua={class:"flex flex-col max-[768px]:hidden"};var qa={__name:"MainView",setup(e){const t=(0,C.iH)(!1),s=(0,C.iH)(""),r=(0,j.oR)(),o=(0,c.tv)();function l(e){s.value=e,setTimeout((()=>{s.value=""}),3e3)}const i=()=>{r.dispatch("auth/logout"),o.push("/login")};return(0,n.bv)((()=>{it.on("logout",(()=>{i()}))})),(0,n.Jd)((()=>{it.remove("logout")})),(e,r)=>((0,n.wg)(),(0,n.iD)("div",ya,[(0,n._)("div",ba,[((0,n.wg)(),(0,n.j4)((0,n.LL)(xa))),(0,n._)("div",_a,[((0,n.wg)(),(0,n.j4)((0,n.LL)(It),{class:"grow",onInfoMessage:l},null,32)),((0,n.wg)(),(0,n.j4)((0,n.LL)($s),{onShowModal:r[0]||(r[0]=e=>t.value=!0)},null,32))])]),(0,n._)("div",ka,[s.value?((0,n.wg)(),(0,n.j4)(Vs,{key:0,info:s.value},null,8,["info"])):(0,n.kq)("",!0),((0,n.wg)(),(0,n.j4)((0,n.LL)(cs)))]),(0,n._)("div",Ua,[((0,n.wg)(),(0,n.j4)((0,n.LL)(Is)))]),(0,n.Wm)(a.uT,{name:"fade"},{default:(0,n.w5)((()=>[t.value?((0,n.wg)(),(0,n.j4)((0,n.LL)(ma),{key:0,onClose:r[1]||(r[1]=e=>t.value=!1),onInfoMessage:l},null,32)):(0,n.kq)("",!0)])),_:1})]))}};const Sa=qa;var Ca=Sa;const Ia=[{path:"/",name:"home",component:S},{path:"/main",name:"main",component:Ca,children:[{path:"personal",name:"privateMessage",component:Ca,children:[{path:"user/:id",component:Ca}]},{path:"server",name:"server",component:Ca,children:[{path:"channel/:id",component:Ca}]}]},{path:"/login",name:"login",component:te},{path:"/register",name:"signup",component:Me}],ja=(0,c.p7)({history:(0,c.PO)("/"),routes:Ia});var Ha=ja,Da=s(7749),Wa=s(3494),Pa=s(2234),La=s(8321);Wa.vI.add(La.LM3,La.olY,La.LEp,Pa.omb,La.jLD,La.FVb,La.r8p,La.XCy,La.$aW),(0,a.ri)(u).use(Ha).use(ht).component("font-awesome-icon",Da.GN).mount("#app")}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,a,n,r){if(!a){var o=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],r=e[c][2];for(var l=!0,i=0;i<a.length;i++)(!1&r||o>=r)&&Object.keys(s.O).every((function(e){return s.O[e](a[i])}))?a.splice(i--,1):(l=!1,r<o&&(o=r));if(l){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,n,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,r,o=a[0],l=a[1],i=a[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(n in l)s.o(l,n)&&(s.m[n]=l[n]);if(i)var c=i(s)}for(t&&t(a);u<o.length;u++)r=o[u],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(c)},a=self["webpackChunkdiscordfront"]=self["webpackChunkdiscordfront"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(7035)}));a=s.O(a)})();
//# sourceMappingURL=app.7aaf3cb9.js.map